<h2>Fahrplan-Abfragen (Connections)</h2>

<div class="ui segment">
  <h3 class="ui header">Eingabe</h3>
  <div class="ui form">
    <div class="field">
      <label>From Stop (ID)</label>
      <input type="number" [(ngModel)]="fromStop" />
    </div>
    <div class="field">
      <label>To Stop (ID)</label>
      <input type="number" [(ngModel)]="toStop" />
    </div>
    <div class="field">
      <label>Datum</label>
      <input type="text" [(ngModel)]="date" placeholder="2025-03-15" />
    </div>
    <div class="field">
      <label>Uhrzeit</label>
      <input type="text" [(ngModel)]="time" placeholder="17:00:00" />
    </div>
    <div class="field">
      <label>Ist Ankunftszeit?</label>
      <input type="checkbox" [(ngModel)]="isArrivalTime" />
    </div>
    <div class="field">
      <label>Max Results</label>
      <input type="number" [(ngModel)]="maxResults" />
    </div>

    <button class="ui primary button" (click)="searchDirect()">
      Suche DIRECT
    </button>
    <button class="ui button" (click)="searchComplex()">
      Suche COMPLEX
    </button>
  </div>
</div>

<!-- Direct Results -->
<div class="ui segment">
  <h3 class="ui header">Direct Connections</h3>
  <table class="ui celled table">
    <thead>
      <tr>
        <th>RouteId</th>
        <th>FromStop</th>
        <th>ToStop</th>
        <th>DepartureTime</th>
        <th>ArrivalTime</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let d of directResults">
        <td>{{ d.routeId }}</td>
        <td>{{ d.fromStop }}</td>
        <td>{{ d.toStop }}</td>
        <td>{{ d.departureTime }}</td>
        <td>{{ d.arrivalTime }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Complex Results -->
<div class="ui segment">
  <h3 class="ui header">Complex Connections (max 1 Umstieg)</h3>
  <table class="ui celled table">
    <thead>
      <tr>
        <th>Route A</th>
        <th>Route B</th>
        <th>FromStop</th>
        <th>MidStop</th>
        <th>ToStop</th>
        <th>DepA</th>
        <th>ArrA</th>
        <th>DepB</th>
        <th>ArrB</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of complexResults">
        <td>{{ c.routeIdA }}</td>
        <td>{{ c.routeIdB }}</td>
        <td>{{ c.fromStop }}</td>
        <td>{{ c.midStop }}</td>
        <td>{{ c.toStop }}</td>
        <td>{{ c.depA }}</td>
        <td>{{ c.arrA }}</td>
        <td>{{ c.depB }}</td>
        <td>{{ c.arrB }}</td>
      </tr>
    </tbody>
  </table>
</div>
